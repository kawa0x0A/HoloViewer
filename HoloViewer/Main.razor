<ContentView>
    <StackLayout>
        <StackLayout Orientation="StackOrientation.Horizontal">
            <Label Text="画面分割" VerticalOptions="LayoutOptions.CenterAndExpand" FontSize="24" />
            <ImageButton Source="@(ImageSource.FromResource("HoloViewer.Resources.Icon.IconScreenHorizontal2.png"))" WidthRequest="32" HeightRequest="32" OnClick="ChangeScreenHorizontal2" />
            <ImageButton Source="@(ImageSource.FromResource("HoloViewer.Resources.Icon.IconScreenVertical2.png"))"   WidthRequest="32" HeightRequest="32" OnClick="ChangeScreenVertical2" />
            <ImageButton Source="@(ImageSource.FromResource("HoloViewer.Resources.Icon.IconScreenHorizontal3.png"))" WidthRequest="32" HeightRequest="32" OnClick="ChangeScreenHorizontal3" />
            <ImageButton Source="@(ImageSource.FromResource("HoloViewer.Resources.Icon.IconScreenVertical3.png"))"   WidthRequest="32" HeightRequest="32" OnClick="ChangeScreenVertical3" />
            <ImageButton Source="@(ImageSource.FromResource("HoloViewer.Resources.Icon.IconScreenCustom3-1.png"))"   WidthRequest="32" HeightRequest="32" OnClick="ChangeScreenCustom3_1" />
            <ImageButton Source="@(ImageSource.FromResource("HoloViewer.Resources.Icon.IconScreenCustom3-2.png"))"   WidthRequest="32" HeightRequest="32" OnClick="ChangeScreenCustom3_2" />
            <ImageButton Source="@(ImageSource.FromResource("HoloViewer.Resources.Icon.IconScreenHorizontal4.png"))" WidthRequest="32" HeightRequest="32" OnClick="ChangeScreenHorizontal4" />
            <ImageButton Source="@(ImageSource.FromResource("HoloViewer.Resources.Icon.IconScreenVertical4.png"))"   WidthRequest="32" HeightRequest="32" OnClick="ChangeScreenVertical4" />
            <ImageButton Source="@(ImageSource.FromResource("HoloViewer.Resources.Icon.IconScreenCustom4.png"))"     WidthRequest="32" HeightRequest="32" OnClick="ChangeScreenCustom4" />
        </StackLayout>

        @switch (CurrentScreenMode)
        {
            case ScreenMode.Single:
                <Grid>
                    <BlazorWebView VerticalOptions="LayoutOptions.FillAndExpand">
                        <HoloViewer.WebUI.App />
                    </BlazorWebView>
                </Grid>
                break;

            case ScreenMode.SplitHorizontal2:
                <Grid RowDefinitions="*, *" HorizontalOptions="LayoutOptions.FillAndExpand" VerticalOptions="LayoutOptions.FillAndExpand">
                    <GridCell Row="0">
                        <BlazorWebView VerticalOptions="LayoutOptions.FillAndExpand">
                            <HoloViewer.WebUI.App />
                        </BlazorWebView>
                    </GridCell>
                    <GridCell Row="1">
                        <BlazorWebView VerticalOptions="LayoutOptions.FillAndExpand">
                            <HoloViewer.WebUI.App />
                        </BlazorWebView>
                    </GridCell>
                </Grid>
                break;

            case ScreenMode.SplitVertical2:
                <Grid ColumnDefinitions="*, *" HorizontalOptions="LayoutOptions.FillAndExpand" VerticalOptions="LayoutOptions.FillAndExpand">
                    <GridCell Column="0">
                        <BlazorWebView VerticalOptions="LayoutOptions.FillAndExpand">
                            <HoloViewer.WebUI.App />
                        </BlazorWebView>
                    </GridCell>
                    <GridCell Column="1">
                        <BlazorWebView VerticalOptions="LayoutOptions.FillAndExpand">
                            <HoloViewer.WebUI.App />
                        </BlazorWebView>
                    </GridCell>
                </Grid>
                break;

            case ScreenMode.SplitHorizontal3:
                <Grid RowDefinitions="*, *, *" HorizontalOptions="LayoutOptions.FillAndExpand" VerticalOptions="LayoutOptions.FillAndExpand">
                    <GridCell Row="0">
                        <BlazorWebView VerticalOptions="LayoutOptions.FillAndExpand">
                            <HoloViewer.WebUI.App />
                        </BlazorWebView>
                    </GridCell>
                    <GridCell Row="1">
                        <BlazorWebView VerticalOptions="LayoutOptions.FillAndExpand">
                            <HoloViewer.WebUI.App />
                        </BlazorWebView>
                    </GridCell>
                    <GridCell Row="2">
                        <BlazorWebView VerticalOptions="LayoutOptions.FillAndExpand">
                            <HoloViewer.WebUI.App />
                        </BlazorWebView>
                    </GridCell>
                </Grid>
                break;

            case ScreenMode.SplitVertical3:
                <Grid ColumnDefinitions="*, *, *" HorizontalOptions="LayoutOptions.FillAndExpand" VerticalOptions="LayoutOptions.FillAndExpand">
                    <GridCell Column="0">
                        <BlazorWebView VerticalOptions="LayoutOptions.FillAndExpand">
                            <HoloViewer.WebUI.App />
                        </BlazorWebView>
                    </GridCell>
                    <GridCell Column="1">
                        <BlazorWebView VerticalOptions="LayoutOptions.FillAndExpand">
                            <HoloViewer.WebUI.App />
                        </BlazorWebView>
                    </GridCell>
                    <GridCell Column="2">
                        <BlazorWebView VerticalOptions="LayoutOptions.FillAndExpand">
                            <HoloViewer.WebUI.App />
                        </BlazorWebView>
                    </GridCell>
                </Grid>
                break;

            case ScreenMode.SplitCustom3_1:
                <Grid RowDefinitions="*, *" ColumnDefinitions="*, *" HorizontalOptions="LayoutOptions.FillAndExpand" VerticalOptions="LayoutOptions.FillAndExpand">
                    <GridCell Row="0" Column="0" ColumnSpan="2">
                        <BlazorWebView VerticalOptions="LayoutOptions.FillAndExpand">
                            <HoloViewer.WebUI.App />
                        </BlazorWebView>
                    </GridCell>
                    <GridCell Row="1" Column="0">
                        <BlazorWebView VerticalOptions="LayoutOptions.FillAndExpand">
                            <HoloViewer.WebUI.App />
                        </BlazorWebView>
                    </GridCell>
                    <GridCell Row="1" Column="1">
                        <BlazorWebView VerticalOptions="LayoutOptions.FillAndExpand">
                            <HoloViewer.WebUI.App />
                        </BlazorWebView>
                    </GridCell>
                </Grid>
                break;

            case ScreenMode.SplitCustom3_2:
                <Grid RowDefinitions="*, *" ColumnDefinitions="*, *" HorizontalOptions="LayoutOptions.FillAndExpand" VerticalOptions="LayoutOptions.FillAndExpand">
                    <GridCell Row="0" Column="0">
                        <BlazorWebView VerticalOptions="LayoutOptions.FillAndExpand">
                            <HoloViewer.WebUI.App />
                        </BlazorWebView>
                    </GridCell>
                    <GridCell Row="0" Column="1">
                        <BlazorWebView VerticalOptions="LayoutOptions.FillAndExpand">
                            <HoloViewer.WebUI.App />
                        </BlazorWebView>
                    </GridCell>
                    <GridCell Row="1" Column="0" ColumnSpan="2">
                        <BlazorWebView VerticalOptions="LayoutOptions.FillAndExpand">
                            <HoloViewer.WebUI.App />
                        </BlazorWebView>
                    </GridCell>
                </Grid>
                break;

            case ScreenMode.SplitHorizontal4:
                <Grid RowDefinitions="*, *, *, *" HorizontalOptions="LayoutOptions.FillAndExpand" VerticalOptions="LayoutOptions.FillAndExpand">
                    <GridCell Row="0">
                        <BlazorWebView VerticalOptions="LayoutOptions.FillAndExpand">
                            <HoloViewer.WebUI.App />
                        </BlazorWebView>
                    </GridCell>
                    <GridCell Row="1">
                        <BlazorWebView VerticalOptions="LayoutOptions.FillAndExpand">
                            <HoloViewer.WebUI.App />
                        </BlazorWebView>
                    </GridCell>
                    <GridCell Row="2">
                        <BlazorWebView VerticalOptions="LayoutOptions.FillAndExpand">
                            <HoloViewer.WebUI.App />
                        </BlazorWebView>
                    </GridCell>
                    <GridCell Row="3">
                        <BlazorWebView VerticalOptions="LayoutOptions.FillAndExpand">
                            <HoloViewer.WebUI.App />
                        </BlazorWebView>
                    </GridCell>
                </Grid>
                break;

            case ScreenMode.SplitVertical4:
                <Grid ColumnDefinitions="*, *, *, *" HorizontalOptions="LayoutOptions.FillAndExpand" VerticalOptions="LayoutOptions.FillAndExpand">
                    <GridCell Column="0">
                        <BlazorWebView VerticalOptions="LayoutOptions.FillAndExpand">
                            <HoloViewer.WebUI.App />
                        </BlazorWebView>
                    </GridCell>
                    <GridCell Column="1">
                        <BlazorWebView VerticalOptions="LayoutOptions.FillAndExpand">
                            <HoloViewer.WebUI.App />
                        </BlazorWebView>
                    </GridCell>
                    <GridCell Column="2">
                        <BlazorWebView VerticalOptions="LayoutOptions.FillAndExpand">
                            <HoloViewer.WebUI.App />
                        </BlazorWebView>
                    </GridCell>
                    <GridCell Column="3">
                        <BlazorWebView VerticalOptions="LayoutOptions.FillAndExpand">
                            <HoloViewer.WebUI.App />
                        </BlazorWebView>
                    </GridCell>
                </Grid>
                break;

            case ScreenMode.SplitCustom4:
                <Grid RowDefinitions="*, *" ColumnDefinitions="*, *" HorizontalOptions="LayoutOptions.FillAndExpand" VerticalOptions="LayoutOptions.FillAndExpand">
                    <GridCell Row="0" Column="0">
                        <BlazorWebView VerticalOptions="LayoutOptions.FillAndExpand">
                            <HoloViewer.WebUI.App />
                        </BlazorWebView>
                    </GridCell>
                    <GridCell Row="0" Column="1">
                        <BlazorWebView VerticalOptions="LayoutOptions.FillAndExpand">
                            <HoloViewer.WebUI.App />
                        </BlazorWebView>
                    </GridCell>
                    <GridCell Row="1" Column="0">
                        <BlazorWebView VerticalOptions="LayoutOptions.FillAndExpand">
                            <HoloViewer.WebUI.App />
                        </BlazorWebView>
                    </GridCell>
                    <GridCell Row="1" Column="1">
                        <BlazorWebView VerticalOptions="LayoutOptions.FillAndExpand">
                            <HoloViewer.WebUI.App />
                        </BlazorWebView>
                    </GridCell>
                </Grid>
                break;
        }

    </StackLayout>
</ContentView>


@code
{
    public enum ScreenMode
    {
        Single,
        SplitHorizontal2,
        SplitVertical2,
        SplitHorizontal3,
        SplitVertical3,
        SplitCustom3_1,
        SplitCustom3_2,
        SplitHorizontal4,
        SplitVertical4,
        SplitCustom4,
    }

    public ScreenMode CurrentScreenMode { get; set; }

    void ChangeScreenHorizontal2 ()
    {
        CurrentScreenMode = ScreenMode.SplitHorizontal2;
    }

    void ChangeScreenVertical2 ()
    {
        CurrentScreenMode = ScreenMode.SplitVertical2;
    }

    void ChangeScreenHorizontal3 ()
    {
        CurrentScreenMode = ScreenMode.SplitHorizontal3;
    }

    void ChangeScreenVertical3 ()
    {
        CurrentScreenMode = ScreenMode.SplitVertical3;
    }

    void ChangeScreenCustom3_1 ()
    {
        CurrentScreenMode = ScreenMode.SplitCustom3_1;
    }

    void ChangeScreenCustom3_2 ()
    {
        CurrentScreenMode = ScreenMode.SplitCustom3_2;
    }

    void ChangeScreenHorizontal4 ()
    {
        CurrentScreenMode = ScreenMode.SplitHorizontal4;
    }

    void ChangeScreenVertical4 ()
    {
        CurrentScreenMode = ScreenMode.SplitVertical4;
    }

    void ChangeScreenCustom4 ()
    {
        CurrentScreenMode = ScreenMode.SplitCustom4;
    }
}
